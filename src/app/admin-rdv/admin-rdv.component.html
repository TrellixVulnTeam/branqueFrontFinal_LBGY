<div class="panel">
  <div class="panel-body">

    <table class="table table-striped table-advance table-hover">


      <thead>
      <tr>
        <th>Date CrÃ©ation</th>
        <th>Client</th>
        <th>Sujet</th>
        <th>DÃ©scription</th>
        <th>Etat</th>
        <th>Date RDV</th>
        <th>Agent</th>

        <th>Actions</th>


      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let data of rdvs">
        <td>{{data.dateCreation | date: 'dd/MM/yyyy' }}</td>
        <td>{{data.utilisateur?.nom }} {{data.utilisateur?.prenom}}</td>
        <td>{{data.sujet }}</td>
        <td>{{data.description}}</td>
        <td>{{data.status}}</td>
        <td>
          <span *ngIf="data.status !== 'EN_ATTENTE'">
            {{data.dateRendezVous | date: 'dd/MM/yyyy  HH:mm'}}
          </span>

      <input type="datetime-local" [min]="minDate" *ngIf="data.status == 'EN_ATTENTE'" [(ngModel)]="data.dateRendezVous">

        </td>
        <td>
           <span *ngIf="data.status !== 'EN_ATTENTE'">
          {{data?.agent?.nom}} {{data?.agent?.prenom}}
           </span>

          <select *ngIf="data.status == 'EN_ATTENTE'"
                  [(ngModel)]="data.agent" class="form-control" >
            <option [ngValue]="agent" *ngFor="let agent of agents">{{agent.nom + ' '+ agent.prenom}}</option>
          </select>
        </td>


        <td>
          <button
            [disabled]="data.status !== 'EN_ATTENTE'"
            class="btn btn-danger btn-xs "  style="margin-right: 5px" title="Annuler"
            (click)="refuserRdv(data)"><i class="fa fa-times"></i></button>




          <button
            [disabled]="data.status !== 'EN_ATTENTE'"
            class="btn btn-success btn-xs "   title="Editer"
            (click)="accepterRdv(data)" ><i class="fa fa-check"></i></button>
        </td>
      </tr>
      </tbody>

    </table>

  </div>
</div>
