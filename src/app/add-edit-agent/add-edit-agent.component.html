<form #f="ngForm" (ngSubmit)="f.valid && valider()" class="form-horizontal style-form">
  <div class="panel">
    <div class="panel-body">
        <span *ngIf="f.submitted && errorMessage" class="text-danger">
          {{errorMessage}}
        </span>
      <div class="form-group {{f.submitted && cin.invalid? 'has-error': ''}}">
        <label class="col-lg-2 control-label">CIN</label>
        <div class="col-lg-10">
          <input type="text" placeholder="" id="l-name"
                 class="form-control" name="cin" (keypress)="numberOnly($event)"
                 required maxlength="8" minlength="8"
                 #cin="ngModel"
                 [(ngModel)]="agent.cin">
          <p *ngIf="f.submitted && cin.invalid" class="help-block">
            <span *ngIf="cin?.errors['required']">CIN est obligatoire</span>
            <span *ngIf="cin?.errors['minlength']">CIN doit contenir 8 chiffres</span>
          </p>
        </div>
      </div>


      <div class="form-group {{f.submitted && nom.invalid? 'has-error': ''}}">
        <label class="col-lg-2 control-label">Nom</label>
        <div class="col-lg-10">
          <input type="text" placeholder=""
                 class="form-control" name="nom"
                 required
                 #nom="ngModel"
                 [(ngModel)]="agent.nom">
          <p *ngIf="f.submitted && nom.invalid" class="help-block">
            Nom est obligatoire

          </p>
        </div>
      </div>


      <div class="form-group {{f.submitted && prenom.invalid? 'has-error': ''}}">
        <label class="col-lg-2 control-label">Prénom</label>
        <div class="col-lg-10">
          <input type="text" placeholder=""
                 class="form-control" name="prenom"
                 required
                 #prenom="ngModel"
                 [(ngModel)]="agent.prenom">
          <p *ngIf="f.submitted && prenom.invalid" class="help-block">
            Prénom est obligatoire

          </p>
        </div>
      </div>

      <div class="form-group {{f.submitted && mail.invalid? 'has-error': ''}}">
        <label class="col-lg-2 control-label">Email</label>
        <div class="col-lg-10">
          <input type="email" placeholder=""
                 class="form-control" name="email"
                 required email
                 #mail="ngModel"
                 [(ngModel)]="agent.email">
          <p *ngIf="f.submitted && mail.invalid" class="help-block">
            <span *ngIf="mail?.errors['required']">Email est obligatoire</span>
            <span *ngIf="mail?.errors['email']">Email invalid</span>
          </p>
        </div>
      </div>


      <div class="form-group {{f.submitted && phone.invalid? 'has-error': ''}}">
        <label class="col-lg-2 control-label">Téléphone</label>
        <div class="col-lg-10">
          <input type="text" placeholder=""
                 class="form-control" name="phone" (keypress)="numberOnly($event)"
                 required maxlength="8" minlength="8"
                 #phone="ngModel"
                 [(ngModel)]="agent.phone">
          <p *ngIf="f.submitted && phone.invalid" class="help-block">
            <span *ngIf="phone?.errors['required']">Téléphone est obligatoire</span>
            <span *ngIf="phone?.errors['minlength']">Téléphone doit contenir 8 chiffres</span>
          </p>
        </div>
      </div>



      <div class="form-group {{f.submitted && adresse.invalid? 'has-error': ''}}">
        <label class="col-lg-2 control-label">Adresse</label>
        <div class="col-lg-10">
          <textarea type="text" placeholder=""
                 class="form-control" name="adresse"
                 required
                 #adresse="ngModel"
                    [(ngModel)]="agent.adresse"></textarea>
          <p *ngIf="f.submitted && adresse.invalid" class="help-block">
            Adresse est obligatoire

          </p>
        </div>
      </div>

    </div>

    <div class="panel-footer ">

      <button (click)="cancel()" type="reset" class="btn btn-danger " style="margin-right: 10px">Annuler</button>
      <button class="btn  {{agentId? 'btn-warning': 'btn-success'}} ">{{agentId? 'Modifier': 'Ajouter'}}</button>

    </div>

  </div>

</form>
